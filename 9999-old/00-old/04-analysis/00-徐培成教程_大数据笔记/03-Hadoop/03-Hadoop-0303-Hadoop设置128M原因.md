## 1, 每块128M原因

磁盘读取写入是需要寻址的一般是10ms左右，如果小文件过多，那么需要过度寻址，也就是花费很多时间寻址。

一般一个合理的标准是寻址时间占用读取或者写入时间的1%是比较合理

10ms的寻址时间，那么最好有10*100，也就是1秒钟的读取写入时间。

现在磁盘的速度大概是100M/s，所以1秒钟的操作大小是100M左右，所以设置128M每块是一个比较合理的值



## 2, 名称节点namenode

namenode上只有编辑日志和镜像文件



namenode上存储的切片和块信息，都是datanode在启动的时候主动向namenode汇报的。





## 3, 数据节点datanode

datanode上存储的是真实的数据，如果单个文件超过128M会进行切割存储

hdfs中，也就是dn中存储的数据都是物理切割，如果一个大文件被切割成多个小文件，那么把小文件按照顺序进行拼接久可以得到原先的文件了。当然排除那些接受的数据压缩的除外。



## 4, 数据拼接可以使用cat命令

```shell
cat zhang.txt >> li.txt
```

