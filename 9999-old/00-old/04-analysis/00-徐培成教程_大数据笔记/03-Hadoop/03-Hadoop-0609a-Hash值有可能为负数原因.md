```java
public int hashCode() {
  int h = hash;
  if (h == 0 && value.length > 0) {
    char val[] = value;

    for (int i = 0; i < value.length; i++) {
      h = 31 * h + val[i];
    }
    hash = h;
  }
  return h;
}
```



hashCode的算法如下：

比如说

```java
字符串"ab", 计算方式是：

31*97 + 98 = 3105

字符串"abc", 计算方式是：

31* (31*97+98) + 99 = 96354
  
字符串"abcd", 计算方式是：

31*(31* (31*97+98) + 99) + 100 = 2987074
  
字符串"abcde", 计算方式是：

31*(31*(31* (31*97+98) + 99) + 100) + 101 = 92599395

  
但是⚠️：hash值是int值，最大也就是21亿，一旦过大， 就会成为负数

所以：
字符串"abcdef", 计算方式是：

31*(31*(31*(31* (31*97+98) + 99) + 100) + 101) + 102 = 28亿
所以就成了负数，也就是"abcdef"的实际hash值是：-1424385949

```

